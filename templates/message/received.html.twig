{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}

 {% if not app.user %}

	<h5>Vous devez être connecté !</h5>

	{% else %}

<h5>Boite de réception :</h5>

<p>Vous avez
	{{app.user.received | length}}
	message(s).</p>

<table class="table table-hover">
	<thead>
		<tr>
			<th scope="col">Expéditeur</th>
			<th scope="col">Date</th>
			<th scope="col">Contenu</th>
			<th scope="col">Actions</th>
		</tr>
	</thead>
	<tbody>
		{% for message in app.user.received|reverse %}
			<tr>

				<td>{{message.expediteur.prenom}}
					{{message.expediteur.nom}}</td>
				<td>{{message.date | date('d/m/Y à H:i')}}</td>
				<td>{{message.contenu}}</td>
				<td>
					<a href="{{path( 'show_message', {'id' : message.id} )}}">
						<i class="bi bi-search"></i>
					</a>
					<a href="{{path( 'delete_message', {'id' : message.id} )}}">
						<i class="bi bi-trash3"></i>
					</a>
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

{% endif %}



{% endblock %}
